modmap:
  - name: Global
    remap:
      # CapsLock/Ctrl_L -> Esc
      CapsLock: Esc
      Ctrl_L: Esc

      # HHKB: [Alt_L] [Muhenkan] [Space] [Henkan] [KatakanaHiragana]
      Alt_L: Ctrl_R # for Ctrl+Click
      Muhenkan: Ctrl_L
      Henkan: Shift_L

  - name: Kana -> Windows
    wm_class:
      not: jetbrains-idea
    remap:
      # Use Windows since Alt is annoying in Electron apps (Slack, Nocturn)
      KatakanaHiragana: Win_L

  - name: Kana -> Alt
    wm_class:
      only: jetbrains-idea
    remap:
      # Use Alt since Windows is annoying in IDEA
      KatakanaHiragana: Alt_L

keymap:
  - name: Global
    remap:
      # Underscore without Shift
      RO: Shift-RO

      # SKK hack for Chrome
      C-j: C-m

  - name: Default (Nocturn, etc.)
    wm_class:
      not: [Google-chrome, Slack, Gnome-terminal, jetbrains-idea]
    remap:
      # Emacs basic
      C-b: left
      C-f: right
      C-p: up
      C-n: down
